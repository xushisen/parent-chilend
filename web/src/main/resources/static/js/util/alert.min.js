var type=!1,startTop=0,startLeft=0,divTop=0,divLeft=0;function mouseDown(){$(".alert .alertTitle").mousedown(function(t){type=!0;t=t||window.event;startTop=t.clientY,startLeft=t.clientX,divTop=$(".alert").offset().top+90,divLeft=$(".alert").offset().left+180}),$(document).mouseup(function(){type=!1}),$(document).mousemove(function(t){if(type){t=t||window.event;var e=divLeft+(t.clientX-startLeft),n=divTop+(t.clientY-startTop);e<180&&(e=180),n<90&&(n=90),e+180>$(window).width()&&(e=$(window).width()-180),n+90>$(window).height()&&(n=$(window).height()-90),$(".alert").css({left:e+"px",top:n+"px"})}})}function mouseDownifame(){$(parent.window.document.body).find(".alert .alertTitle").mousedown(function(t){type=!0;t=t||window.event;startTop=t.clientY,startLeft=t.clientX,divTop=$(parent.window.document.body).find(".alert").offset().top+90,divLeft=$(parent.window.document.body).find(".alert").offset().left}),$(parent.window.document).mouseup(function(){type=!1}),$(parent.window.document).mousemove(function(t){if(type){t=t||window.event;var e=divLeft+(t.clientX-startLeft),n=divTop+(t.clientY-startTop);e<180&&(e=180),n<90&&(n=90),e+180>$(parent.window).width()&&(e=$(parent.window).width()-180),n+90>$(parent.window).height()&&(n=$(parent.window).height()-90),$(parent.window.document.body).find(".alert").css({left:e+"px",top:n+"px"})}})}function resize(){$(window).resize(function(){$(".alert").length>0&&$(".alert").animate({top:$(window).height()/2+"px"})})}function divCenter(t){var e=$(window).width()/2,n=$(window).height()/2;"left"==t?$(".alert").css({left:"0",top:"50%"}).animate({left:e+"px"}):"top"==t?$(".alert").css({top:"0",left:"50%"}).animate({top:n+"px"}):"right"==t?$(".alert").css({right:"0",top:"50%"}).animate({right:e-180+"px"}):$(".alert").css({bottom:"0",left:"50%"}).animate({bottom:n-90+"px"}),resize()}function divCenterIframe(t){var e=$(parent.window).width()/2,n=$(parent.window).height()/2;"left"==t?$(parent.window.document.body).find(".alert").css({left:"0",top:"50%"}).animate({left:e+"px"}):"top"==t?$(parent.window.document.body).find(".alert").css({top:"0",left:"50%"}).animate({top:n+"px"}):"right"==t?$(parent.window.document.body).find(".alert").css({right:"0",top:"50%"}).animate({right:e-180+"px"}):$(parent.window.document.body).find(".alert").css({bottom:"0",left:"50%"}).animate({bottom:n-90+"px"}),resize()}function removeDhk(){$(".alert").animate({height:"0px"},function(){$(".mask").remove(),$(".alert").remove()})}function removeQpDhk(){$(parent.window.document.body).find(".alert").animate({height:"0px"},function(){$(parent.window.document.body).find(".mask").remove(),$(parent.window.document.body).find(".alert").remove()})}$(function(){jQuery.extend({jAlert:function(t){var e={qd:function(){}},n="<div class='mask'></div><div class='alert'><div class='alertTitle'><p>"+t.title+"</p><span id='cha' title=\"关闭\"></span></div><div class='alertContent'><div class='content'>"+t.content+"</div><div class='contentBu'><a href='javascript:;' id='qd'>确定</a></div></div></div>";0==t.sfqp?($("body").append(n),divCenter(t.direction),mouseDown(),$("#qd,#cha").click(function(){return removeDhk(),this.content=$.extend({},e,t),this.content.qd(),!0})):($(parent.window.document.body).append(n),divCenterIframe(t.direction),mouseDownifame(),$(parent.window.document.body).find("#qd,#cha").click(function(){return removeQpDhk(),this.content=$.extend({},e,t),this.content.qd(),!0}))},tConfirm:function(t){var e={yes:function(){},no:function(){}},n="<div class='mask'></div><div class='alert'><div class='alertTitle'><p>"+t.title+"</p><span id='cha'></span></div><div class='alertContent'><div class='content'>"+t.content+"</div><div class='contentBuTs'><a href='javascript:;' id='qd'>确定</a><a href='javascript:;' id='qx'>点错了</a></div></div></div>";0==t.sfqp?($("body").append(n),divCenter(t.direction),mouseDown(),$("#qd").click(function(){removeDhk(),this.content=$.extend({},e,t),this.content.yes()}),$("#qx,#cha").click(function(){removeDhk(),this.content=$.extend({},e,t),this.content.no()})):($(parent.window.document.body).append(n),divCenterIframe(t.direction),mouseDownifame(),$(parent.window.document.body).find("#qd").click(function(){removeQpDhk(),this.content=$.extend({},e,t),this.content.yes()}),$(parent.window.document.body).find("#qx,#cha").click(function(){removeQpDhk(),this.content=$.extend({},e,t),this.content.no()}))},tContent:function(t){var e='<div class="zhezhao"></div><div class="popup">\t<div class="popup-title">\t\t<div class="title-left">'+t.title+'</div>\t\t<div class="title-right" id="sen" title="关闭">×</div>\t</div>\t<div class="popup-content"><iframe></iframe></div></div>';$("body").append(e),$(".popup").width(t.width).height(t.height),$(".popup .popup-content").height(t.height-35),$(".popup .popup-content iframe").attr("src",t.url),$(".popup .popup-title .title-right").click(function(){$("body").find(".zhezhao,.popup").remove()})}})});
