$(".page select").find("option[value = '"+$("#pagesize").val()+"']").attr("selected","selected");var rightDiv="<div class='caidan'><ul></ul></div>",parentName=window.parent.document.getElementsByTagName("link")[0].href,xzColor="#d6f2db",geColor="#eefff1";-1!=parentName.indexOf("blue")&&(xzColor="#E1F1F9",geColor="#EBF8FF"),$.rightClick=function(t){var n=$.extend({},t),e=n.val.split(",");$("body").append(rightDiv);for(var i=0;i<e.length;i++){var d=ico(e[i]);$(".caidan ul").append("<li>"+d+"<span>"+e[i]+"</span></li>")}$(".caidan ul li").each(function(){$(this).click(function(){var t=$(this).find("span").text();"新增"==t?n.save():"编辑"==t?n.edit(hiddenVal()):"删除"==t?n.dele(hiddenVal()):"审核"==t?n.examine(hiddenVal()):"批量通过"==t?n.batch(hiddenVal()):"批量不通过"==t?n.batchNo(hiddenVal()):"导入"==t?n.exports():"重置密码"==t?n.resetPwd(hiddenVal()):"续费"==t?n.renew(hiddenVal()):-1!=t.indexOf("授权")&&n.authorization(hiddenVal()),$(".caidan").css({display:"none"})})})};var firstIndex,lastIndex,crtlKey=!1,shiftKey=!1;function shiftCheck(t,n){var e="<div class='checkK_dian'></div>";if(t<n)$(".table tr:not(:first):lt("+(n+1)+")").find("td:first").find(".checkK").append(e),$(".table tr:not(:first):lt("+(n+1)+")").css("background",xzColor),$(".table tr:not(:first):lt("+t+")").find("td:first").find(".checkK").children(".checkK_dian").remove(),$(".table tr:not(:first):lt("+t+")").each(function(){($(this).index()+1)%2==0?$(this).css("background",geColor):$(this).css("background","#fff")});else{var i=n-1;-1==i&&(i=0,$(".table tr:not(:first):eq("+i+")").find("td:first").find(".checkK").append(e),$(".table tr:not(:first):eq("+i+")").css("background",xzColor)),$(".table tr:not(:first):gt("+i+")").find("td:first").find(".checkK").append(e),$(".table tr:not(:first):gt("+i+")").css("background",xzColor),$(".table tr:not(:first):gt("+t+")").find("td:first").find(".checkK").children(".checkK_dian").remove(),$(".table tr:not(:first):gt("+t+")").each(function(){($(this).index()+1)%2==0?$(this).css("background",geColor):$(this).css("background","#fff")})}}function xuan(t){"全选"==$(t).text()?(quanxuan(),$(t).text("全消")):(quanxiao(),$(t).text("全选"))}function quanxuan(){$(".table .checkK").each(function(){$(this).append("<div class='checkK_dian'></div>")})}function quanxiao(){$(".table .checkK").each(function(){$(this).children(".checkK_dian").remove()}),hf()}function hiddenVal(){var t="";return $(".table .checkK").each(function(){1==$(this).children().length&&(t+=$(this).data("num")+",")}),t.substring(0,t.length-1)}function hf(){$(".table tr:not(:first)").css("background","#fff"),$(".table tr:not(:first):odd").css("background",geColor)}function tjbackground(t){$(".table tr:eq("+t+")").find("td:first").find(".checkK").append("<div class='checkK_dian'></div>"),$(".table tr:eq("+t+")").css("background",xzColor)}function qxbackground(t){$(".table tr:eq("+t+")").find("td:first").find(".checkK").children(".checkK_dian").remove(),t%2==0?$(".table tr:eq("+t+")").css("background",geColor):$(".table tr:eq("+t+")").css("background","#fff")}$(document).bind("contextmenu",function(t){return!1}),$(".table tr:not(:first)").mousedown(function(t){3==t.which&&$(".caidan").css({display:"block",position:"fixed",top:t.clientY+"px",left:t.clientX+"px"}),1==t.which&&$(".caidan").css({display:"none"})}),$(document).keydown(function(t){17==(t=t||event).keyCode?crtlKey=!0:16==t.keyCode&&(shiftKey=!0)}).keyup(function(){crtlKey=!1,shiftKey=!1,firstIndex=void 0,lastIndex=void 0}),$(".table tr:not(:first)").each(function(t){$(this).click(function(){if(crtlKey)0==$(this).find("td:first").find(".checkK").children().length?tjbackground($(this).index()+1):qxbackground($(this).index()+1);else if(shiftKey)quanxiao(),void 0===firstIndex?(firstIndex=$(this).index(),$(".table tr:not(:first):eq("+firstIndex+")").find("td:first").find(".checkK").append("<div class='checkK_dian'></div>"),$(".table tr:not(:first):eq("+firstIndex+")").css("background",xzColor)):lastIndex=$(this).index(),void 0!==firstIndex&&void 0!==lastIndex&&shiftCheck(firstIndex,lastIndex);else if(0==$(this).find("td:first").find(".checkK").children().length)quanxiao(),tjbackground($(this).index()+1);else if(hiddenVal().split(",").length>2){quanxiao();$(this).find("td:first").find(".checkK").append("<div class='checkK_dian'></div>"),$(this).css("background",xzColor)}else qxbackground($(this).index()+1)})}),hf();